---
layout: post
title: Minimize your Javascript files with cURL
tags:
- Bash Tips
- Closure
- cURL
- javascript
- Web
- WOA
status: publish
type: post
published: true
meta:
  _edit_last: '1'
  _flattr_post_language: fr_FR
  _flattr_post_category: text
  _flattr_post_hidden: '0'
  dsq_thread_id: '686894197'
  _wp_old_slug: minimizing-your-javascript-files-with-curl
---
I've always been fascinated by the power of <strong>using existing web applications as external tools</strong>: you don't need to install anything on your computer but you can <strong>rely on the web</strong>.

We can <strong>externalize the intelligence of applications in servers</strong> and <strong>easily make updates</strong>, while having any terminal consuming them with a <strong>minimal OS environment</strong>. 
<em>Cloud</em> or whatever you call it, it's awesome.

<abbr title="Web Oriented Architecture">WOA</abbr> is our common architecture for making applications. Clients of web servers can be anything you want, not only desktop browsers, but also mobiles, tablets, other web services, and... <strong>command-line</strong>!

And today, as an example, we will use <a href="https://developers.google.com/closure/compiler/docs/api-ref">Google Closure Compiler web service</a> to <strong>minimize a Javascript file with only cURL</strong>.

<!--more-->

<strong>cURL</strong> is a <abbr title="Command-line">CLI</abbr> swiss army knife of transferring data and it is perfect for testing, debugging and consuming web services.

<strong>Google Closure Compiler</strong> check and "compile" your Javascript file. By compile, it means optimizing its size by renaming variables and removing spaces and comments. Javascript compilation has because an essential phase of major javascript libraries.

<h2>Bash script examples</h2>

<h3>Download and minimize the last version of Illuminated.js</h3>
[cc_bash]
URL=https://raw.github.com/gre/illuminated.js/master/src/illuminated.js
OUTPUT=illuminated.min.js
curl -d compilation_level=SIMPLE_OPTIMIZATIONS -d output_format=text -d output_info=compiled_code -d code_url=$URL http://closure-compiler.appspot.com/compile > $OUTPUT
[/cc_bash]

<h3>Minimize a local JS file</h3>
[cc_bash]
LOCAL_FILE=./mysuperlib.js
OUTPUT=mysuperlib.min.js
curl -d compilation_level=SIMPLE_OPTIMIZATIONS -d output_format=text -d output_info=compiled_code --data-urlencode "js_code@${LOCAL_FILE}" http://closure-compiler.appspot.com/compile > $OUTPUT
[/cc_bash]
