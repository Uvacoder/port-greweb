---
published: false
title: 'Qep2.: Qimage, A Image loader for Q'
description: 'Q is a Promise library in Javascript'
thumbnail: /images/2013/07/promise_then_thumbnail.jpg
author: Gaetan
layout: post
tags:
 - AWOP
 - javascript
 - promise
 - Q
 - library
---

[0]: /pages/a-world-of-promises/
[1]: http://github.com/kriskowal/q
[2]: http://github.com/gre/qimage

# A [World Of Promises][0], episode 2

*This second article on [Q][1] will introduce [Qimage][2], a simple Image Promise wrapper.*

TODO: write intro

## Wrapping the Image API

```javascript
var Qimage = function (url) {
  var d = Q.defer();
  var img = new Image();
  img.onload = function () {
    d.resolve(img);
  };
  img.onabort = function (e) {
    d.reject(e);
  };
  img.onerror = function (err) {
    d.reject(err);
  };
  img.src = url;
  return d.promise;
};
```

This is maybe the simplest example of wrapping an existing DOM API into
Q promises.

[Qimage][2] is released as a micro-lib and available on [Github][2].

