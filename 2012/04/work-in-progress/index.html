<!DOCTYPE HTML>

<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="author" content="GaÃ«tan Renaudeau" />
    <meta name="description" content="A progress tag will be displayed on recent browsers with a OS-native progress bar representing a loading." />
    <meta name="keywords" content="animation,canvas,javascript,bezier,gamedev,css,sass,playframework,transition,linux,html,mobile,library,navigation,sysadmin,templating,math,websocket,blender,color,GLSL,WebGL,audio,iteratee,hackday,float,reactive,unix,AWOP,promise,Q,MIDI,zound,fm,WebRTC,js13k,functional,rendering,ludumdare,js1k,phaser,webgl,react,vdom,gl-react,opengl,relay," />

    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@greweb">
    <meta name="twitter:title" content="Work in &lt;progress /&gt;">
    <meta name="twitter:description" content="A progress tag will be displayed on recent browsers with a OS-native progress bar representing a loading.">
    <meta name="twitter:creator" content="@greweb">
    
    <meta name="twitter:image:src" content="http://greweb.me/images/2012/04/progress_mac.png">
    <link rel="image_src" href="http://greweb.me/images/2012/04/progress_mac.png">
    

    <title>@GreWeb - Work in &lt;progress /&gt;</title>
    <link href='http://fonts.googleapis.com/css?family=Fredericka+the+Great|Arapey|Roboto:400,700,400italic' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/style/main.css" />
    <link rel='shortcut icon' href='/favicon.png' />
    <link rel="alternate" type="application/rss+xml" title="RSS" href="http://greweb.me/rss/index.xml" />
  </head>
  <body>

    <header role="banner">
      <h1><a href="http://greweb.me">@GreWeb</a></h1>
      <h2></h2>
      <nav>
        <a href="mailto:renaudeau.gaetan@gmail.com">Mail</a>
        <a href="http://github.com/gre" target="_blank">Github</a>
        <a href="http://twitter.com/greweb" target="_blank">Twitter</a>
        <a href="http://www.linkedin.com/pub/gaetan-renaudeau/21/258/620" target="_blank">LinkedIn</a>
        <a href="https://soundcloud.com/greweb" target="_blank">SoundCloud</a>
      </nav>
    </header>

    <div id="container">
    <div id="main">
      <div id="content">
        <article>
  
  
  <header>
    <h1><a href="/2012/04/work-in-progress/">Work in &lt;progress /&gt;</a></h1>
    <time class="date" datetime="2012-04-26">April 26, 2012</time>
   <span class="tags">
     <a class="tag" href="/tag/html.html">html</a>
     <a class="tag" href="/tag/javascript.html">javascript</a>
     
   </span>
  </header>

  <div class="entry-content">
    <p><strong>Did you know browsers now have a built-in HTML tag for making progress bar?</strong> </p>

<p><progress style="width: 50%">(progress is not supported)</progress></p>

<p>How cool is that!</p>

<p>It is perfect for making web applications loading bar in just one line of HTML and a few Javascript code.</p>

<p>A progress tag will be displayed on recent browsers with a OS-native progress bar representing a loading. Like many HTML tag, if it is not supported, it fallbacks nicely by displaying its inner content. This fallback content should either be your own designed progress bar or simply display a percentage.</p>

<p>It is today supported by Firefox 9 , Chrome, Opera and IE10.  </p>

<!--more-->

<h2>Example</h2>
<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;progress</span> <span class="na">value=</span><span class="s">&quot;23&quot;</span> <span class="na">max=</span><span class="s">&quot;100&quot;</span><span class="nt">&gt;</span>23 %<span class="nt">&lt;/progress&gt;</span>
</code></pre></div>
<h3>On your browser:</h3>

<p><progress value="23" max="100">23 %</progress></p>

<h3>On Linux / Firefox (with GNOME)</h3>

<p><img src="/images/2012/04/progress.png" alt=""></p>

<h3>On Mac OS / Chrome:</h3>

<p><img src="/images/2012/04/progress_mac.png" alt=""></p>

<h3>On IE 6:</h3>

<p><img src="/images/2012/04/progress_ie.png" alt=""></p>

<h2>Letâ€™s see some cases:</h2>

<h3>waiting</h3>

<p><progress max="1000"></progress> </p>
<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;progress</span> <span class="na">max=</span><span class="s">&quot;1000&quot;</span><span class="nt">&gt;&lt;/progress&gt;</span> 
</code></pre></div>
<h3>starting</h3>

<p><progress value="0" max="1000"></progress> </p>
<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;progress</span> <span class="na">value=</span><span class="s">&quot;0&quot;</span> <span class="na">max=</span><span class="s">&quot;1000&quot;</span><span class="nt">&gt;&lt;/progress&gt;</span> 
</code></pre></div>
<h3>in progress:</h3>

<p><progress value="500" max="1000"></progress> </p>
<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;progress</span> <span class="na">value=</span><span class="s">&quot;500&quot;</span> <span class="na">max=</span><span class="s">&quot;1000&quot;</span><span class="nt">&gt;&lt;/progress&gt;</span> 
</code></pre></div>
<h3>finished:</h3>

<p><progress value="1000" max="1000"></progress></p>
<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;progress</span> <span class="na">value=</span><span class="s">&quot;1000&quot;</span> <span class="na">max=</span><span class="s">&quot;1000&quot;</span><span class="nt">&gt;&lt;/progress&gt;</span>
</code></pre></div>
<h2>Making a download bar</h2>

<p>When you need to load big resource like images, videos, or 3D materials, you usually want to display the progress of the download.<br>
You could still do it using some divs and CSS Javascript, but this is now much simpler to use a  :</p>

<h3>One line of HTML:</h3>
<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;progress</span> <span class="na">id=</span><span class="s">&quot;download&quot;</span><span class="nt">&gt;&lt;/progress&gt;</span>
</code></pre></div>
<h3>And the Javascript:</h3>

<p>(for more convenience, we are using jQuery)</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">totalBytes</span> <span class="o">=</span> <span class="mi">10000000</span><span class="p">;</span> <span class="c1">// CHANGE ME WITH THE SIZE OF THE RESOURCE  </span>
<span class="kd">var</span> <span class="nx">req</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">XMLHttpRequest</span><span class="p">();</span>  
<span class="kd">var</span> <span class="nx">progress</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#download&#39;</span><span class="p">);</span>  
<span class="nx">progress</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;max&quot;</span><span class="p">,</span> <span class="nx">totalBytes</span><span class="p">);</span>  
<span class="nx">req</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">&quot;progress&quot;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>  
<span class="err">Â </span> <span class="nx">progress</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;value&quot;</span><span class="p">,</span> <span class="nx">e</span><span class="p">.</span><span class="nx">loaded</span><span class="p">).</span><span class="nx">text</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="mi">100</span><span class="o">*</span><span class="nx">e</span><span class="p">.</span><span class="nx">loaded</span><span class="o">/</span><span class="nx">totalBytes</span><span class="p">)</span> <span class="s2">&quot; %&quot;</span><span class="p">);</span>  
<span class="p">},</span> <span class="kc">false</span><span class="p">);</span> <span class="err">Â </span>  
<span class="nx">req</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">&quot;load&quot;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>  
<span class="err">Â </span> <span class="c1">// THE RESOURCE IS LOADED  </span>
<span class="err">Â </span> <span class="nx">progress</span><span class="p">.</span><span class="nx">replaceWith</span><span class="p">(</span><span class="s2">&quot;Downloaded!&quot;</span><span class="p">);</span>  
<span class="p">});</span>  
<span class="nx">req</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span><span class="s2">&quot;resource.dat&quot;</span><span class="p">,</span><span class="kc">true</span><span class="p">);</span>
<span class="nx">req</span><span class="p">.</span><span class="nx">send</span><span class="p">();</span>
</code></pre></div>
<p>It is quite easy to extend my code to support multiple files to download.</p>

<p>It is also easy to use this progress bar for anything else, but remember it represents a progress. If you want to represent some kind of stats, refer to the dedicated  tag.</p>

  </div>
  <footer class="comments">
    <div id="disqus_thread"></div>
  </footer>

    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'greweb'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    
</article>

      </div>

      <aside id="sidebar">
        <section class="latest_posts">
          <h3>Last Posts</h3>
          <ul>
            
            <li>
              <a href="/2016/12/gl-react-v3/">gl-react v3</a>
            </li>
            
            <li>
              <a href="/2016/09/relay-scrolling-connections/">Relay, scrolling connections</a>
            </li>
            
            <li>
              <a href="/2016/07/projectseptember-opengl/">ðŸŽ‰ There are some OpenGL in the Project September fashion app!</a>
            </li>
            
            <li>
              <a href="/2016/06/glreactconf/">Universal GL Effects for Web and Native</a>
            </li>
            
            <li>
              <a href="/2015/10/introducing-gl-react/">Introducing gl-react</a>
            </li>
            
            <li>
              <a href="/2015/08/making-performant-react-applications/">Making performant React applications</a>
            </li>
            
            <li>
              <a href="/2014/10/webglparis/">[FR] webglparis talk: GLSL.io initiative and WebGL Transitions</a>
            </li>
            
            <li>
              <a href="/2014/09/ibex-cellular-automata/">Cellular Automata in IBEX</a>
            </li>
            
            <li>
              <a href="/2014/09/ibex/">IBEX, my js13k game</a>
            </li>
            
            <li>
              <a href="/2014/05/ld29/">48 hours to prototype an Ant Sim Game</a>
            </li>
            
          </ul>
        </section>

        <section class="about_me">
          <h3>About the author</h3>
          <p>My name is GaÃ«tan Renaudeau (<a href="https://twitter.com/greweb">@greweb</a>)</p>
          <img style="float:left;margin-right:10px;margin-top:5px;width:80px" src="/images/avatar.jpg" alt="" />
          <p>
            I work at <a href="http://projectseptember.com/">ProjectSeptember</a>
            where I've developed <a href="https://github.com/ProjectSeptemberInc/gl-react">gl-react</a>.
            I enjoy hacking technology, experimenting with HTML5 techs like WebGL and WebAudio.
            I develop HTML5 games for fun, usually in <a href="http://ludumdare.com/compo/author/gre/">ludumdare game jam</a>.
          </p>
          <p>I speak French, English and learn Chinese.</p>
        </section>

        <section class="twitter">
          <h3>Last Tweets</h3>
          <a class="twitter-timeline" href="https://twitter.com/greweb" data-widget-id="325600219960057857"></a>
        </section>

        <section class="lichess">
          <h3>lichess TV</h3>
          <script src="http://en.lichess.org/tv/embed?theme=brown&bg=light"></script>
        </section>
      </aside>
    </div>
    </div>

    <footer role="contentinfo">
      <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/"><img alt="Licence Creative Commons" style="border-width:0" src="http://i.creativecommons.org/l/by-nc-sa/3.0/80x15.png"></a>
      <span>GaÃ«tan Renaudeau</span>
      <a href="https://twitter.com/greweb" class="twitter-follow-button" data-show-count="false" data-lang="en">Follow @greweb</a>
    </footer>

<script type='text/javascript' src='/javascripts/header.js'></script>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
<script type="text/javascript">
/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
var disqus_shortname = 'greweb'; // required: replace example with your forum shortname

/* * * DON'T EDIT BELOW THIS LINE * * */
(function () {
    var s = document.createElement('script'); s.async = true;
    s.type = 'text/javascript';
    s.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
}());
</script>
<script type="text/javascript">//<![CDATA[
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-9919624-1']);
_gaq.push(['_trackPageview']);
(function () {
    var ga = document.createElement('script');
    ga.type = 'text/javascript';
    ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(ga, s);
})();
//]]></script>
  </body>
</html>
